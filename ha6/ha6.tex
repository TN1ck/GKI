\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[german]{babel}
\setlength{\parindent}{0cm}
\usepackage{setspace}
\usepackage{mathpazo}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{wasysym}
\usepackage{booktabs}
\usepackage{verbatim}
\usepackage{ulem}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{ulem}
\usepackage{stmaryrd }
\usepackage[a4paper,
left=1.8cm, right=1.8cm,
top=2.0cm, bottom=2.0cm]{geometry}
\usepackage{tabularx}
\usepackage{tikz}
\usetikzlibrary{trees,petri,decorations,arrows,automata,shapes,shadows,positioning,plotmarks}

\newcommand{\rf}{\right\rfloor}
\newcommand{\lf}{\left\lfloor}
\newcommand{\tabspace}{15cm}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}

\begin{document}
\begin{center}
\Large{Grundlagen der kÃ¼nstlichen Intelligenz: Hausaufgabe 6} \\
\end{center}
\begin{tabbing}
Tom Nick \hspace{2cm}\= - 340528\\
Niklas Gebauer \> - 340942 \\
Leonard Witte \> - 341457 \\
Johannes Herrmann \> - 341091\\
\end{tabbing}

\section*{Aufgabe 1 - Hidden Markov-Prozess}
Die Anfangsbedingung wird mit $P(X_0 = w) = 0.5$ angenommen.
\begin{enumerate}[~~(a)]
    \item \begin{align*}
    P(X_1 = \dots = X_k = w, X_{k+1} = f \mid X_0 = f) &= P(X_{k+1} = f \mid X_{k} = w) \cdot \prod_{i = 1}^{k}P(X_{i+1} = w \mid X_i = w) \cdot P(X_1 = w \mid X_0 = f)\\
    &= 0.2 \cdot 0.8^{k-1} \cdot 0.1
    \end{align*}
    \item \begin{align*}
        p_t &= P(X_t \mid Y_{1:t}) \\
        &= \alpha p(X_t, Y_t \mid Y_{1:t-1}) = \alpha p(Y_{t} \mid X_{t}, Y_{1:t-1})p(x_{t}, e_{1:t-1}) \\
        &= \alpha p(Y_t, X_t)p(X_t, Y_{1:t-1}) \\
        p(X_t\mid Y_{1:t-1}) &= \sum_{x_t} p(X_{t}, X_t \mid Y_{1:t-1}) = \sum_{x_t}p(X_t\mid X_{t -1})p(X_t\mid Y_{1:t}) \\
        p(X_t \mid Y_{1:t}) &= \alpha p(Y_t \mid X_t) \sum_{x_t} p(X_t\mid X_{t-1})p(X_t\mid Y_{1:t-1}) \\
        &= \alpha p(Y_t = g \mid X_t = w) \sum_{x_t} p(X_t\mid X_{t-1})p(X_t\mid Y_{1:t-1}) \\
        &= \alpha 0.3 \cdot \sum_{x_t} p(X_t\mid X_{t-1})p(X_t\mid Y_{1:t-1})
    \end{align*}
    \item \begin{align*}
        P(X_{2+1} = w, Y_1 = c, Y_2 = g) = \sum_{X_2} p(X_{2+1} = w \mid X_2)p(X_2 \mid Y_{1:2}) \\
        = p(X_3 = w \mid X_2 = w)p(X_2 = w \mid Y_{1:2}) + p(X_3 = w \mid X_2 = f)p(X_2 = f \mid Y_{1:2}) \\
        = p(X_3 = w \mid X_2 = w)\sum_{X_1}p(X_2 = w \mid X_1)p(X_1 \mid Y_1) + p(X_3 = w \mid X_2 = f)p(X_2 = f \mid Y_{1:2}) \\
        = p(X_3 = w \mid X_2 = w)(p(X_2 = w \mid X_1 = w)p(X_1 = w \mid Y_1) + p(X_2 = w \mid X_1 = f)p(X_1 = f \mid Y_1)) + \\ + p(X_3 = w \mid X_2 = f)p(X_2 = f \mid Y_{1:2}) \\
        = \dots
    \end{align*}
    \item
    \item
\end{enumerate}

\section*{Aufgabe 2 - Hidden Markov-Modell}
\begin{enumerate}[~~(a)]
    \item ~\\
    \begin{center}
        \begin{tikzpicture}[auto,bend angle=30,node distance=1.5cm]
            % Zustaende
            \node[state] (1) {(};
            \node[state] (2)[right of=1] {x};
            \node[state] (3)[right of=2] {y};
            \node[state] (4)[right of=3] {z};
            \node[state] (5)[right of=4] {0};
            \node[state] (6)[right of=5] {1};
            \node[state] (7)[right of=6] {2};
            \node[state] (8)[right of=7] {3};
            \node[state] (9)[right of=8] {+};
            \node[state] (10)[right of=9] {-};
            \node[state] (11)[right of=10] {)};

            \node[state] (12)[below of=1] {$k_1$};
            \node[state] (13)[below of=3] {$v$};
            \node[state] (14)[below of=6] {$z_1$};
            \node[state] (15)[below of=8] {$z_2$};
            \node[state] (16)[below of=9] {$rs$};
            \node[state] (17)[below of=11] {$k_2$};
            \node[state] (18)[below of=12] {start};
            \node[state] (19)[below of=17] {end};

            \path[->] (12) edge  (1);
            \path[->] (18) edge  (12);
            \path[->] (17) edge  (19);

            \path[->] (13) edge  (2);
            \path[->] (13) edge  (3);
            \path[->] (13) edge  (4);
            
            \path[->] (14) edge  (6);
            \path[->] (14) edge  (7);
            \path[->] (14) edge  (8);

            \path[->] (15) edge  (5);
            \path[->] (15) edge  (6);
            \path[->] (15) edge  (7);
            \path[->] (15) edge  (8);

            \path[->] (16) edge  (9);
            \path[->] (16) edge  (10);

            \path[->] (17) edge  (11);
            
            \path[->] (12) edge  (13);
            \path[->, bend right] (12) edge  (14);

            \path[->, bend right] (13) edge  (16);
            \path[->, bend right] (13) edge  (17);

            \path[->, bend right] (14) edge  (15);
            \path[->, bend right] (14) edge  (16);
            \path[->, bend right] (14) edge  (17);

            \path[->, loop right] (15) edge  (15);
            \path[->, bend right] (15) edge  (16);
            \path[->, bend right] (15) edge  (17);
            
            \path[->, bend left] (16) edge  (14);
            \path[->, bend left] (16) edge  (13);


        \end{tikzpicture}
    \end{center}
    \item
    \begin{align*}
        P(x_{0:6} \mid y_{1:6} = (x+30)) &= \frac{P(x_0)\prod_{t=1}^{6}P(y_t\mid x_t)P(x_t\mid x_{t - 1})}{P(y_{1:6} = (x+30))} \\
        &= \frac{1.0  \cdot (0.6 \cdot 0.6) \cdot (0.8 \cdot 0.7) \cdot (0.7 \cdot 0.2) \cdot (0.5 \cdot 0.4) \cdot (0.3 \cdot 1.0) \cdot 1.0}{P(y_{1:6} = (x+30))} \\
        &= \frac{0.00203}{P(y_{1:6} = (x+30))}
    \end{align*}
    \item
    \item
\end{enumerate}


\end{document}
